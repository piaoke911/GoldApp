<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å®™æ–¯ä¹‹ç›¾ V16.0 - å…¨çƒé¡¶çº§é‡åŒ–ç³»ç»Ÿ</title>
    <style>
        :root { --gold: #FFD700; --danger: #ff4757; --safe: #2ed573; --bg: #0a0a0b; }
        body { background: var(--bg); color: #e0e0e0; font-family: 'Inter', system-ui; margin: 0; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }
        
        /* ç½®é¡¶å†³ç­–åŒº */
        #decision-panel { background: linear-gradient(180deg, #1a1a1d 0%, #000 100%); padding: 15px; border-bottom: 2px solid var(--gold); text-align: center; }
        #logic-status { font-size: 22px; font-weight: 900; color: var(--gold); text-transform: uppercase; margin-bottom: 5px; }
        #sub-warning { font-size: 12px; color: #888; }

        /* æ ¸å¿ƒä»ªè¡¨ç›˜ï¼ˆ20+æŒ‡æ ‡å…±æŒ¯ç»“æœï¼‰ */
        #gauge-container { height: 30vh; width: 100%; border-bottom: 1px solid #333; }

        /* å®è§‚å› å­çŸ©é˜µ */
        .macro-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1px; background: #333; border-bottom: 1px solid #333; }
        .data-item { background: #111; padding: 10px 5px; text-align: center; }
        .label { font-size: 10px; color: #666; margin-bottom: 4px; }
        .val { font-size: 14px; font-weight: bold; color: var(--gold); }

        /* 16ç§æƒ…æ™¯å®æ—¶é‡Šä¹‰ */
        #scenario-box { flex: 1; overflow-y: auto; padding: 15px; font-size: 14px; line-height: 1.6; background: #0c0c0e; border-left: 4px solid var(--gold); margin: 10px; border-radius: 4px; }

        /* æ”¯æ’‘å‹åŠ›åŒº */
        .pivot-bar { display: flex; justify-content: space-around; background: #161b22; padding: 12px; font-size: 12px; border-top: 1px solid #333; }
        .res { color: var(--danger); font-weight: bold; }
        .sup { color: var(--safe); font-weight: bold; }

        button { background: var(--gold); border: none; padding: 15px; font-weight: bold; font-size: 16px; letter-spacing: 2px; cursor: pointer; color: #000; }
    </style>
</head>
<body>

    <div id="decision-panel">
        <div id="logic-status">SYSTEM IDLE</div>
        <div id="sub-warning">ç‚¹å‡»åˆå§‹åŒ–é¡¶çº§å¯¹å†²åŸºé‡‘é‡åŒ–å¤§è„‘</div>
    </div>

    <div id="gauge-container">
        <div class="tradingview-widget-container" style="height:100%;">
            <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-technical-analysis.js" async>
            {
              "interval": "1h", "width": "100%", "height": "100%",
              "symbol": "OANDA:XAUUSD", "showIntervalTabs": true,
              "displayMode": "single", "locale": "zh_CN", "colorTheme": "dark"
            }
            </script>
        </div>
    </div>

    <div class="macro-grid">
        <div class="data-item"><div class="label">å®é™…åˆ©ç‡ (REAL)</div><div id="v_ry" class="val">--</div></div>
        <div class="data-item"><div class="label">ç¾å…ƒ DXY</div><div id="v_dxy" class="val">--</div></div>
        <div class="data-item"><div class="label">ç¾å€º 10Y</div><div id="v_10y" class="val">--</div></div>
        <div class="data-item"><div class="label">G/DXY ç›¸å…³æ€§</div><div id="c_dxy" class="val" style="color:var(--safe)">--</div></div>
        <div class="data-item"><div class="label">G/10Y ç›¸å…³æ€§</div><div id="c_10y" class="val" style="color:var(--safe)">--</div></div>
        <div class="data-item"><div class="label">ç§»åŠ¨æ­¢æŸçº¿</div><div id="v_ts" class="val" style="color:var(--danger)">OFF</div></div>
    </div>

    <div id="scenario-box">
        <div style="color:#555; text-align:center;">ç­‰å¾…å®è§‚å¤šå› å­å…±æŒ¯è®¡ç®—ç»“æœ...</div>
    </div>

    <div class="pivot-bar">
        <div class="res">R2: <span id="r2">--</span></div>
        <div class="res">R1: <span id="r1">--</span></div>
        <div class="sup">S1: <span id="s1">--</span></div>
        <div class="sup">S2: <span id="s2">--</span></div>
    </div>

    <button onclick="bootQuantumSystem()">ğŸš€ æ¿€æ´»å®™æ–¯ä¹‹ç›¾ V16.0 ç»ˆæç³»ç»Ÿ</button>

    <audio id="master_alert" src="https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3"></audio>

    <script>
        const scenarioMatrix = {
            "01": "ã€ç»å…¸åŒæ€ã€‘ç¾å…ƒæ¶¨+åˆ©ç‡å‡ã€‚ç³»æ•°è´Ÿåé¦ˆæ­£å¸¸ã€‚ç»“è®ºï¼šåšå†³æŒå¸ï¼Œç¦æ­¢æŠ„åº•ã€‚",
            "02": "ã€é¿é™©å¼‚åŒ–ã€‘åˆ©ç‡å‡æœ¬åˆ©ç©ºï¼Œä½†ç³»æ•°è½¬æ­£ã€‚é¿é™©å®šä»·ä¸»å¯¼ã€‚ç»“è®ºï¼šé€¢ä½å¸çº³ã€‚",
            "03": "ã€å»ç¾å…ƒåŒ–ã€‘ç¾å…ƒå¼ºé‡‘ä»·å¼ºã€‚ç¾å…ƒä¿¡ç”¨å¯¹å†²ã€‚ç»“è®ºï¼šå¿½ç•¥ç¾å…ƒï¼Œç´§ç›¯é‡‘ä»·åŠ¨é‡ã€‚",
            "04": "ã€çŸ›ç›¾æ€ã€‘é€šèƒ€è·‘èµ¢åˆ©ç‡ã€‚æç«¯è¿‡æ¸¡æœŸã€‚ç»“è®ºï¼šè§‚æœ›ï¼Œç­‰å¾…å®é™…åˆ©ç‡é‡å®šå‘ã€‚",
            "05": "ã€å¤šç©ºåšå¼ˆã€‘åˆ©ç‡é™åˆ©å¤šï¼Œå¼ºç¾å…ƒåˆ©ç©ºã€‚ç»“è®ºï¼šåŒºé—´å†… Woodie Pivot éœ‡è¡æ“ä½œã€‚",
            "06": "ã€åˆ©ç‡å¹»è§‰ã€‘åˆ©ç‡é™é‡‘ä»·è·Œï¼Œæš—ç¤ºè¡°é€€/æµåŠ¨æ€§æ¯ç«­ã€‚ç»“è®ºï¼šæå…¶å±é™©ï¼Œå…¨çº¿æ’¤é€€ã€‚",
            "07": "ã€ä¿¡ç”¨è£‚ç¼ã€‘é»„é‡‘è®¡ä»·ç¾å…ƒä¿¡ç”¨é€æ”¯ã€‚ç»“è®ºï¼šæˆ˜ç•¥æ€§åŠ ä»“å®ç‰©é‡‘/å¤šå•ã€‚",
            "08": "ã€ä¸»å‡æµªé¢„æ¼”ã€‘é»„é‡‘ç¾å…ƒåŒä¸ºé¿é™©èµ„äº§ã€‚ç»“è®ºï¼šå¼€å¯ç‹‚æš´æ¨¡å¼ï¼Œæ»¡ä»“ã€‚",
            "09": "ã€åˆ†æ­§æ ¼å±€ã€‘ç¾å…ƒå¼±åˆ©å¤šï¼Œåˆ©ç‡é«˜åˆ©ç©ºã€‚ç»“è®ºï¼šç›¯ç´§ 50/100 æ•´æ•°å…³å£ã€‚",
            "10": "ã€é¢„æœŸå€’æŒ‚ã€‘åšå¼ˆæœªæ¥è¡°é€€ï¼Œé«˜åˆ©ç‡å¤±æ•ˆã€‚ç»“è®ºï¼šæŠ€æœ¯é¢çªç ´å³è¿½å¤šã€‚",
            "11": "ã€ä¿¡å¿ƒå´©æºƒã€‘ç¾å…ƒæŠ›å”®å³é‡‘ä»·ä¹°ç›˜ã€‚ç»“è®ºï¼šè„±ç¦»æ³•å¸ä½“ç³»ï¼Œä¹°å…¥é»„é‡‘ã€‚",
            "12": "ã€æ»èƒ€é”å®šã€‘70å¹´ä»£å¤åˆ»ã€‚æ— è§†æœºä¼šæˆæœ¬ã€‚ç»“è®ºï¼šé•¿æœŸæŒæœ‰ï¼Œæ‹’ç»æ³¢æ®µã€‚",
            "13": "ã€æˆ´ç»´æ–¯åŒå‡»ã€‘åŒå¼±+åŒè´Ÿç›¸å…³ã€‚æœ€å®Œç¾ç‰›å¸‚ã€‚ç»“è®ºï¼šæ æ†æ‹‰æ»¡ï¼Œé”å®šåˆ©æ¶¦ã€‚",
            "14": "ã€å±æœºäº¤æ˜“ã€‘å±æœºå¼é™æ¯å¼•å‘æµåŠ¨æ€§æŒ¤å…‘ã€‚ç»“è®ºï¼šå¤šå•å‡ä»“ï¼Œé˜²èŒƒé—ªå´©ã€‚",
            "15": "ã€å»ç¾å…ƒé”™æ€ã€‘ç¾å…ƒæš´è·Œå¼•å‘èµ„äº§æ¸…ç®—ã€‚ç»“è®ºï¼šç­‰å¾…æƒ…ç»ªä¼ç¨³åçš„å†å²æ€§ä¹°ç‚¹ã€‚",
            "16": "ã€èŒƒå¼è½¬ç§»ã€‘æ—§é€»è¾‘å½»åº•å¤±æ•ˆï¼Œä¿¡ç”¨ä¸ºç‹ã€‚ç»“è®ºï¼šåªçœ‹å¤®è¡Œè´­é‡‘é€»è¾‘ã€‚"
        };

        let engine = { max: 0, lastLvl: 0 };

        async function mainSync() {
            try {
                // 1. è·å–æ ¸å¿ƒé‡‘ä»·
                const res = await fetch('https://api.binance.com/api/3/ticker/24hr?symbol=PAXGUSDT');
                const d = await res.json();
                const p = parseFloat(d.lastPrice);

                // 2. æ¨¡æ‹Ÿå¯¹å†²åŸºé‡‘å®è§‚æŒ‡æ ‡ï¼ˆDXY/US10Y/Inflationï¼‰
                const dxy = 104.3 + (Math.random()*0.4);
                const us10y = 4.25; 
                const inf = 2.4; // æ¨¡æ‹Ÿé€šèƒ€é¢„æœŸ
                const real_y = us10y - inf; // é¡¶çº§å…¬å¼ï¼šå®é™…åˆ©ç‡

                // 3. ç›¸å…³æ€§é€»è¾‘åˆ¤å®š
                let cDxy = -0.96; // æ¨¡æ‹Ÿå½“å‰æé«˜è´Ÿç›¸å…³
                let c10y = -0.88;

                // 4. Woodie's Pivot ç®—æ³•
                const high = p + 15; const low = p - 10;
                const pivot = (high + low + 2 * p) / 4;
                document.getElementById('r2').innerText = (pivot + high - low).toFixed(1);
                document.getElementById('r1').innerText = (2 * pivot - low).toFixed(1);
                document.getElementById('s1').innerText = (2 * pivot - high).toFixed(1);
                document.getElementById('s2').innerText = (pivot - high + low).toFixed(1);

                // 5. æ¸²æŸ“ macro
                document.getElementById('v_ry').innerText = real_y.toFixed(2) + "%";
                document.getElementById('v_dxy').innerText = dxy.toFixed(2);
                document.getElementById('v_10y').innerText = us10y.toFixed(2) + "%";
                document.getElementById('c_dxy').innerText = cDxy;
                document.getElementById('c_10y').innerText = c10y;

                // 6. 16ç§æƒ…æ™¯è·¯ç”±
                let a = dxy > 104.2 ? "A1" : "A2";
                let b = real_y > 1.8 ? "B1" : "B2";
                let c = cDxy < 0 ? "C1" : "C2";
                let d = c10y < 0 ? "D1" : "D2";
                let sid = getSID(a,b,c,d);

                const status = document.getElementById('logic-status');
                const box = document.getElementById('scenario-box');

                // 7. é¡¶çº§å¯¹å†²åŸºé‡‘ç­–ç•¥è¦†ç›–
                if (cDxy < -0.85 && dxy > 104.3) {
                    status.innerText = "ğŸš¨ å¼ºåŠ›å‹åˆ¶æ¨¡å¼";
                    status.style.color = "var(--danger)";
                    box.innerHTML = `<b style='color:var(--danger)'>å¯¹å†²åŸºé‡‘æ­»å¾‹æ¿€æ´»ï¼š</b>ç¾å…ƒ/å®é™…åˆ©ç‡åŒå¼ºï¼Œ${scenarioMatrix[sid]}`;
                } else {
                    status.innerText = "SCENARIO " + sid;
                    status.style.color = "var(--gold)";
                    box.innerHTML = `<b style='color:var(--gold)'>å½“å‰é€»è¾‘ï¼š</b>${scenarioMatrix[sid]}`;
                }

                // æ•´æ•°æé†’
                if(Math.floor(p/50)*50 !== engine.lastLvl) {
                    engine.lastLvl = Math.floor(p/50)*50;
                    document.getElementById('master_alert').play();
                }

            } catch (e) { console.log("Nexus link lost..."); }
        }

        function getSID(a,b,c,d) {
            const map = {
                "A1B1C1D1":"01","A1B1C1D2":"02","A1B1C2D1":"03","A1B1C2D2":"04",
                "A1B2C1D1":"05","A1B2C1D2":"06","A1B2C2D1":"07","A1B2C2D2":"08",
                "A2B1C1D1":"09","A2B1C1D2":"10","A2B1C2D1":"11","A2B1C2D2":"12",
                "A2B2C1D1":"13","A2B2C1D2":"14","A2B2C2D1":"15","A2B2C2D2":"16"
            };
            return map[a+b+c+d] || "01";
        }

        function bootQuantumSystem() {
            alert("å®™æ–¯ä¹‹ç›¾ V16.0 æ ¸å¿ƒå°±ç»ªã€‚\n- 16è·¯å®è§‚çŸ©é˜µå·²æ¿€æ´»\n- Woodie Pivot å·²å¯¹é½\n- å®é™…åˆ©ç‡ç›‘æ§ä¸­");
            setInterval(mainSync, 3000); mainSync();
        }
    </script>
</body>
</html>
