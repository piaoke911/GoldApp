<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>é»„é‡‘å†³ç­–ç»ˆç«¯ V7.6</title>
    <style>
        :root { --gold: #FFD700; --bg: #0d0d0d; --card: #1a1a1a; --up: #00ffa3; --down: #ff3b30; }
        body { background: var(--bg); color: #fff; font-family: -apple-system, sans-serif; margin: 0; display: flex; flex-direction: column; height: 100vh; justify-content: center; align-items: center; }
        .card { background: var(--card); width: 85%; border-radius: 30px; padding: 30px; border: 1px solid #333; text-align: center; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        #price { font-size: 60px; font-weight: 800; color: var(--gold); margin: 10px 0; letter-spacing: -2px; }
        .signal-badge { display: inline-block; padding: 12px 24px; border-radius: 100px; font-weight: bold; font-size: 20px; margin-top: 15px; }
        .buy { background: var(--up); color: #000; box-shadow: 0 0 20px var(--up); }
        .wait { background: #333; color: #888; }
        .sell { background: var(--down); color: #fff; box-shadow: 0 0 20px var(--down); }
        .info { margin-top: 25px; font-size: 12px; color: #555; }
    </style>
</head>
<body>
    <div class="card">
        <div style="color: #888; font-size: 14px; letter-spacing: 2px;">XAU/USD REAL-TIME</div>
        <div id="price">--.--</div>
        <div id="signal" class="signal-badge wait">æ‰«æè¡Œæƒ…ä¸­...</div>
        <div class="info" id="status">æ­£åœ¨é€šè¿‡å…¨èƒ½æ¥å£å¯¹é½åå°”è¡—...</div>
    </div>

    <script>
        async function fetchGold() {
            try {
                // ä½¿ç”¨ä½ è¦æ±‚çš„æ›´ç¨³çš„ AllOrigins å¤‡ç”¨æ¥å£
                const res = await fetch('https://api.allorigins.win/get?url=' + encodeURIComponent('https://query1.finance.yahoo.com/v7/finance/quote?symbols=GC=F'));
                const raw = await res.json();
                
                // è§£æ AllOrigins è¿”å›çš„ç‰¹æ®Šæ ¼å¼
                const data = JSON.parse(raw.contents);
                const quote = data.quoteResponse.result[0];
                
                const p = quote.regularMarketPrice;
                const pct = quote.regularMarketChangePercent;

                // æ›´æ–°ç•Œé¢æ•°å­—
                document.getElementById('price').innerText = `$${p.toFixed(2)}`;
                document.getElementById('status').innerText = "æ•°æ®å·²åŒæ­¥ (5ç§’åä¸‹æ¬¡æ‰«æ)";
                
                // è‡ªåŠ¨å†³ç­–å¤§è„‘
                const signal = document.getElementById('signal');
                if (pct < -0.3) { 
                    signal.innerText = "ğŸš€ å¼ºçƒˆä¹°å…¥ä¿¡å·";
                    signal.className = "signal-badge buy";
                } else if (pct > 0.8) {
                    signal.innerText = "âš ï¸ é£é™©è­¦ç¤º/å‡ä»“";
                    signal.className = "signal-badge sell";
                } else {
                    signal.innerText = "ğŸ˜´ è§‚æœ›å¾…æœº";
                    signal.className = "signal-badge wait";
                }
            } catch (e) { 
                document.getElementById('status').innerText = "é“¾è·¯å°è¯•é‡è¿ä¸­...";
                console.log("Error:", e); 
            }
        }

        // æ¯ 5 ç§’è‡ªåŠ¨è¿è¡Œä¸€æ¬¡
        setInterval(fetchGold, 5000);
        // é¡µé¢æ‰“å¼€æ—¶ç«‹å³è¿è¡Œä¸€æ¬¡
        fetchGold();
    </script>
</body>
</html>
